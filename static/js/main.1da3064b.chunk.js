(this.webpackJsonploginsystem=this.webpackJsonploginsystem||[]).push([[0],{15:function(e,t,s){},16:function(e,t,s){"use strict";s.r(t);var a=s(1),r=s.n(a),c=s(9),n=s.n(c),i=s(3),l=s(4),j=function(){return{users:JSON.parse(localStorage.getItem("users")),fetchStatus:JSON.parse(localStorage.getItem("fetchStatus"))}},o=Object(a.createContext)(),u=o.Provider,d=s(6),m=s(2),b=s(0),O=function(){var e=Object(m.f)();return Object(b.jsx)("div",{className:"loader flex justify-center items-center",children:Object(b.jsx)("button",{onClick:function(){e("login")},className:"btn btn-primary",children:"Go to Login Page"})})},h=function(e){var t=Object(a.useState)(e),s=Object(l.a)(t,2),r=s[0],c=s[1];return Object(a.useEffect)((function(){c(e)}),[e]),{value:r,setValue:c,reset:function(){return c("")},bind:{value:r,onChange:function(e){c(e.target.value)}}}},g=function(){var e=Object(m.f)(),t=Object(a.useContext)(o),s=t.validateLoginData,r=t.error,c=t.setError,n=t.hasValidated,l=t.setHasValidated,j=h(""),u=j.bind,d=j.reset,O=h(""),g=O.bind,x=O.reset;return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("form",{onSubmit:function(t){s(t),n&&(d(),x(),l(!1),e("../profile"),c({msg:"",errStatus:!1,msgClass:""}))},className:"form flex flex-col items-center",children:[Object(b.jsx)("h2",{className:"heading",children:"Login Form"}),r.errStatus?Object(b.jsx)("p",{className:"form-error",children:r.msg}):r.msgClass?Object(b.jsx)("p",{className:"form-error ".concat(r.msgClass),children:r.msg}):"",Object(b.jsx)("input",{name:"id",type:"hidden",value:(new Date).getTime().toString()}),Object(b.jsx)("input",Object(i.a)(Object(i.a)({name:"username",type:"text"},u),{},{placeholder:"Enter your username"})),Object(b.jsx)("input",Object(i.a)(Object(i.a)({name:"password",type:"password"},g),{},{placeholder:"Enter your email"})),Object(b.jsx)("div",{className:"confirmation flex justify-betweem items-center",children:Object(b.jsx)("button",{type:"submit",className:r.errStatus?"btn btn-secondary danger":"btn btn-primary success",children:n?"Redirect":"Submit"})})]})})},x=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{className:"section-heading",children:"Login Form"}),Object(b.jsx)(g,{})]})})},f=function(){var e=Object(a.useContext)(o),t=e.setFormdata,s=e.usersData,r=e.setError,c=e.setModalActive,n=s.users;return Object(b.jsx)("div",{className:"table-wrapper",children:Object(b.jsxs)("table",{children:[Object(b.jsx)("caption",{children:"LoggedIn Users "}),Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"ID"}),Object(b.jsx)("th",{children:"Image"}),Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"DateOfBirth"}),Object(b.jsx)("th",{children:"Religion"}),Object(b.jsx)("th",{children:"Height"}),Object(b.jsx)("th",{children:"Edit"})]})}),Object(b.jsx)("tbody",{children:n&&n.length>0&&n.map((function(e){var s=e._id,a=e.image,n=e.name,i=e.dob,l=e.religion,j=e.height;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:s}),Object(b.jsx)("td",{children:Object(b.jsx)("img",{src:"".concat(a),alt:"User Profile Pic"})}),Object(b.jsx)("td",{children:n}),Object(b.jsx)("td",{children:i}),Object(b.jsx)("td",{children:l}),Object(b.jsxs)("td",{children:[j,"ft"]}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{onClick:function(){r({msg:"",errStatus:!1}),t(e),c(!0)},className:"btn btn-primary",children:"Edit"})})]},s)}))})]})})},p=function(){var e=Object(a.useContext)(o),t=e.formdata,s=e.setFormdata,r=e.updateUserData,c=e.error,n=e.setError,l=e.setModalActive,j=h(t._id),u=j.bind,d=j.reset,m=h(t.name),O=m.bind,g=m.reset,x=h(t.dob),f=x.bind,p=x.reset,v=h(t.religion),S=v.bind,y=v.reset,N=h(t.height),C=N.bind,E=N.reset;return t&&0===Object.keys(t).length&&t.constructor===Object?"":Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("form",{onSubmit:r,className:"form flex flex-col items-center",children:[c.errStatus?Object(b.jsx)("p",{className:"form-error",children:c.msg}):"",Object(b.jsx)("input",Object(i.a)(Object(i.a)({name:"id",type:"text"},u),{},{disabled:!0})),Object(b.jsx)("input",{name:"image",type:"file",placeholder:"Upload your image"}),Object(b.jsx)("input",Object(i.a)(Object(i.a)({name:"name",type:"text"},O),{},{placeholder:"Enter your Full Name"})),Object(b.jsx)("input",Object(i.a)(Object(i.a)({name:"dob",type:"date"},f),{},{placeholder:"Enter your DoB"})),Object(b.jsx)("input",Object(i.a)(Object(i.a)({name:"height",type:"string"},C),{},{placeholder:"Enter your height in feet"})),Object(b.jsx)("input",Object(i.a)({name:"religion",type:"text",placeholder:"Enter your Religion"},S)),Object(b.jsxs)("div",{className:"confirmation flex justify-betweem items-center",children:[Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"}),Object(b.jsx)("button",{onClick:function(){s({}),d(),g(),p(),y(),E(),n({msg:"",errStatus:!1}),l(!1)},className:"btn btn-secondary",children:"Cancel"})]})]})})},v=function(){var e=Object(a.useContext)(o),t=e.setFormdata,s=e.setError,r=e.modalActive,c=e.setModalActive;return r?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{onClick:function(){t({}),s({msg:"",errStatus:!1,msgClass:""}),c(!1)},className:r?"overlay overlay-active":"overlay"}),Object(b.jsxs)("div",{className:r?"modal modal-active":"model",children:[Object(b.jsx)("header",{className:"modal-header",children:Object(b.jsx)("h2",{className:"heading",children:"Update Details"})}),Object(b.jsx)("div",{className:"flex justify-center items-center modal-body",children:Object(b.jsx)(p,{})})]})]}):""},S=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(f,{}),Object(b.jsx)(v,{})]})};s(15);var y=function(){var e=Object(a.useState)({users:[],fetchStatus:!1}),t=Object(l.a)(e,2),s=t[0],r=t[1],c=Object(a.useState)({msg:"",errStatus:!1}),n=Object(l.a)(c,2),o=n[0],h=n[1],g=Object(a.useState)(!1),f=Object(l.a)(g,2),p=f[0],v=f[1],y=Object(a.useState)({}),N=Object(l.a)(y,2),C=N[0],E=N[1],w=Object(a.useState)(!1),D=Object(l.a)(w,2),F=D[0],I=D[1];function A(e){var t=e.msg,s=e.errStatus,a=e.msgClass;h({msg:t,errStatus:s,msgClass:a})}return Object(a.useEffect)((function(){r(Object(i.a)(Object(i.a)({},s),{},{users:j().users,fetchStatus:j().fetchStatus})),!j().fetchStatus&&r(Object(i.a)(Object(i.a)({},s),{},{users:[],fetchStatus:!0}))}),[r]),Object(a.useEffect)((function(){!function(e){localStorage.setItem("users",JSON.stringify(e.users)),localStorage.setItem("fetchStatus",JSON.stringify(e.fetchStatus))}(s)}),[s]),Object(b.jsx)(d.a,{children:Object(b.jsx)(u,{value:{formdata:C,setFormdata:E,updateUserData:function(e){var t=new RegExp("[a-zA-Z0-9]{".concat(5,",").concat(20,"}")),a=new RegExp("^([1-9]|10).([0-9]{".concat(1,",").concat(2,"})$")),c=s.users;e.preventDefault();var n=e.target,l=n.id,j=n.image,o=n.name,u=n.dob,d=n.religion,m=n.height;j=j.value?j.value.slice(12):"/images/Bit.jpg";var b=c.find((function(e){return e._id===l.value})),O=c.findIndex((function(e){return e._id===l.value}));o.value.trim()&&u.value.trim()&&d.value.trim()&&m.value.trim()?(A({msg:"",errStatus:!1}),t.test(o.value.trim())?(b.name=o.value,A({msg:"",errStatus:!1}),a.test(m.value)?(b.height=m.value,b.dob=u.value,b.religion=d.value,b.image=j,A({msg:"",errStatus:!1}),c.splice(O,1,b),r(Object(i.a)(Object(i.a)({},s),{},{users:c}))):A({msg:"Impractical Height",errStatus:!0})):A({msg:"Name must be at least 5 and at most 20 characters long",errStatus:!0})):A({msg:"All Fields Required",errStatus:!0})},validateLoginData:function(e){var t=new RegExp("[a-zA-Z0-9]{".concat(5,",").concat(20,"}")),a=new RegExp("(?=.*[a-z])(?=.*[0-9])(?=.*[A-Z])(?=.*[.!@#%^&]).{".concat(8,",").concat(32,"}"));e.preventDefault();var c=e.target,n=c.id,l=c.username,j=c.password,o=s.users,u=Object.create({});l.value.trim()&&j.value.trim()?(A({msg:"",errStatus:!1,msgClass:""}),t.test(l.value.trim())?o.some((function(e){return e.username===l.value.trim()}))?A({msg:"Username already taken",errStatus:!0,msgClass:""}):(u.username=l.value,A({msg:"",errStatus:!1,msgClass:""}),a.test(j.value.trim())?(u.password=j.value,A({msg:"Validation Complete",errStatus:!1,msgClass:"success"}),v(!0),u=Object(i.a)(Object(i.a)({},u),{},{_id:n.value,name:"",image:"/images/Bit.jpg",religion:"",dob:"",height:""}),o.push(u),r(Object(i.a)(Object(i.a)({},s),{},{users:o}))):A({msg:"Invalid Password. It must include at least 8 characters, 1 lowercase, 1 uppercase, 1 special character.",errStatus:!0,msgClass:""})):A({msg:"Username must be at least 5 and at most 15 characters long",errStatus:!0,msgClass:""})):A({msg:"All Fields Required",errStatus:!0})},hasValidated:p,setHasValidated:v,error:o,setError:h,usersData:s,modalActive:F,setModalActive:I},children:Object(b.jsxs)(m.c,{children:[Object(b.jsx)(m.a,{path:"/",element:Object(b.jsx)(O,{})}),Object(b.jsx)(m.a,{path:"/login",element:Object(b.jsx)(x,{})}),Object(b.jsx)(m.a,{path:"/profile",element:Object(b.jsx)(S,{})})]})})})};n.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(y,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.1da3064b.chunk.js.map